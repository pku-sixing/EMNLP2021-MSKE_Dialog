
nohup python -u -m hke.run_hke -dataset_version ms_s2s -fact_dict_path dataset/MultiSource/HKE/naf_fact_vocab.txt -csk_relation_vocab_path dataset/MultiSource/HKE/relation_vocab.txt -csk_entity_vocab_path dataset/MultiSource/HKE/entity_vocab.txt   -train_data_path_prefix dataset/MultiSource/HKE/mske_train -val_data_path_prefix dataset/MultiSource/HKE/dev -test_data_path_prefix dataset/MultiSource/HKE/test -vocab_path dataset/MultiSource/HKE/vocab_LE25.txt  -field_key_vocab_path dataset/MultiSource/HKE/field_key_vocab.txt -field_word_vocab_path  dataset/MultiSource/HKE/field_value_vocab.txt  -char_vocab_path dataset/MultiSource/HKE/char_vocab.txt   -csk_entity_embed_path  dataset/MultiSource/HKE/entity2vec.vec   -csk_relation_embed_path  dataset/MultiSource/HKE/relation2vec.vec  -cuda True -hidden_size 512 -embed_size 200 -batch_size 6 -epochs 20 -enc_layers 1 -dec_layers 1 -model_path model/emnlp2021/mske -lr 0.0001  -init_word_vecs True -mode infer  -beam_width 10  -beam_length_penalize avg -knowledge context,commonsense,text,infobox     -disable_unk_output True  -penalize_repeat_tokens_rate 2.0  -copy True  -copy_strategy dynamic_vocab   -disable_multiple_copy True  -text_knowledge_trans_layers 2   -enable_global_mode_gate True -init_selection_mode prior  -global_mode_gate extend    -softmax_global_gate_fusion True  >> model/emnlp2021/mske/Final_Full_Word.txt

python -m utils.evaluation.eval_knowledge --group_name test_B10_D0.00_masked --test_file model/emnlp2021/mske/test_B10_D0.00_masked.top1.txt --res_path model/emnlp2021/mske/ --test_src dataset/MultiSource/HKE/test.src --fact_vocab_path dataset/MultiSource/HKE/naf_fact_vocab.txt --text_base_path dataset/MultiSource/HKE/test.text --infobox_base_path  dataset/MultiSource/HKE/test.box